import{S as Q,i as R,s as A,q as _,r as x,c as q,j as $,k as w,u as m,m as L,w as D,t as h,Q as M,d as v,R as P,l as C,e as U,z as k,E as W,T as F,a1 as J}from"./index.54067895.js";import{B as K}from"./Button.dfe9aea7.js";import{S as O}from"./SelectablePill.21e9201c.js";import{e as z}from"./fetchWrapper.9cb28478.js";function G(o,t,s){const n=o.slice();return n[7]=t[s],n}function B(o){let t,s,n=o[1].firstName+"",e,c;return{c(){t=_("div"),s=k("Cze\u015B\u0107 "),e=k(n),c=k("!"),$(t,"class","text-cocoa text-2xl py-4 uppercase")},m(l,r){w(l,t,r),m(t,s),m(t,e),m(t,c)},p(l,r){r&2&&n!==(n=l[1].firstName+"")&&W(e,n)},d(l){l&&C(t)}}}function H(o){let t,s,n=o[2],e=[];for(let l=0;l<n.length;l+=1)e[l]=N(G(o,n,l));const c=l=>v(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=F()},m(l,r){for(let i=0;i<e.length;i+=1)e[i].m(l,r);w(l,t,r),s=!0},p(l,r){if(r&13){n=l[2];let i;for(i=0;i<n.length;i+=1){const d=G(l,n,i);e[i]?(e[i].p(d,r),h(e[i],1)):(e[i]=N(d),e[i].c(),h(e[i],1),e[i].m(t.parentNode,t))}for(M(),i=n.length;i<e.length;i+=1)c(i);P()}},i(l){if(!s){for(let r=0;r<n.length;r+=1)h(e[r]);s=!0}},o(l){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)v(e[r]);s=!1},d(l){J(e,l),l&&C(t)}}}function V(o){let t=o[7].name+"",s;return{c(){s=k(t)},m(n,e){w(n,s,e)},p(n,e){e&4&&t!==(t=n[7].name+"")&&W(s,t)},d(n){n&&C(s)}}}function N(o){let t,s;function n(){return o[5](o[7])}return t=new O({props:{class:"mx-2 my-1 px-6",isSelected:o[0].includes(o[7].id),clickCallback:n,$$slots:{default:[V]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},m(e,c){L(t,e,c),s=!0},p(e,c){o=e;const l={};c&5&&(l.isSelected=o[0].includes(o[7].id)),c&4&&(l.clickCallback=n),c&1028&&(l.$$scope={dirty:c,ctx:o}),t.$set(l)},i(e){s||(h(t.$$.fragment,e),s=!0)},o(e){v(t.$$.fragment,e),s=!1},d(e){U(t,e)}}}function X(o){let t;return{c(){t=k("Gotowe!")},m(s,n){w(s,t,n)},d(s){s&&C(t)}}}function Y(o){let t,s,n,e,c,l,r,i,d,a,b,T,j,S,y,p=o[1]!==null&&B(o),f=o[2]!==null&&H(o);return a=new K({props:{clickHandler:o[4],class:"px-10 py-1",$$slots:{default:[X]},$$scope:{ctx:o}}}),{c(){t=_("div"),s=_("div"),p&&p.c(),n=x(),e=_("div"),e.innerHTML="<p>Wybranie zainteresowa\u0144 pozwoli nam na dopasowanie tre\u015Bci specjalnie dla Ciebie.</p>",c=x(),l=_("div"),f&&f.c(),r=x(),i=_("div"),d=_("div"),q(a.$$.fragment),b=x(),T=_("button"),T.innerHTML='<div class="text-sm text-sage px-16 text-center py-2">Wybior\u0119 zainteresowania nast\u0119pnym razem</div>',$(e,"class","text-cocoa px-8 text-base"),$(l,"class","px-2 py-2"),$(s,"class","flex flex-col items-center"),$(d,"class",""),$(i,"class","flex flex-col items-center"),$(t,"class","flex flex-col bg-ivory h-screen justify-between")},m(u,g){w(u,t,g),m(t,s),p&&p.m(s,null),m(s,n),m(s,e),m(s,c),m(s,l),f&&f.m(l,null),m(t,r),m(t,i),m(i,d),L(a,d,null),m(i,b),m(i,T),j=!0,S||(y=D(T,"click",o[6]),S=!0)},p(u,[g]){u[1]!==null?p?p.p(u,g):(p=B(u),p.c(),p.m(s,n)):p&&(p.d(1),p=null),u[2]!==null?f?(f.p(u,g),g&4&&h(f,1)):(f=H(u),f.c(),h(f,1),f.m(l,null)):f&&(M(),v(f,1,1,()=>{f=null}),P());const E={};g&1024&&(E.$$scope={dirty:g,ctx:u}),a.$set(E)},i(u){j||(h(f),h(a.$$.fragment,u),j=!0)},o(u){v(f),v(a.$$.fragment,u),j=!1},d(u){u&&C(t),p&&p.d(),f&&f.d(),U(a),S=!1,y()}}}function Z(o,t,s){let n=null,e=null,c=[];z("categories","GET").then(a=>a.json()).then(a=>s(2,e=a)),z("users/categories","GET").then(a=>a.json()).then(a=>{for(const b of a)c.push(b.id)}),z("users/details","GET").then(a=>a.json()).then(a=>s(1,n=a));const l=a=>{c.includes(a)?s(0,c=c.filter(b=>b!==a)):s(0,c=[...c,a])},r=()=>{z("users/categories","PUT",{categories:c}).then(a=>window.location.href="http://localhost:5173")},i=a=>l(a.id),d=()=>window.location.href="http://localhost:5173/";return o.$$.update=()=>{o.$$.dirty&1&&console.log(c)},[c,n,e,l,r,i,d]}class se extends Q{constructor(t){super(),R(this,t,Z,Y,A,{})}}export{se as default};
